package cz.muni.airport.database;

import cz.muni.airport.model.Flight;
import cz.muni.airport.model.Steward;
import cz.muni.airport.services.FlightService;
import cz.muni.airport.services.StewardService;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import java.util.Calendar;

/**
 * Autogenerated file for hibernate connection
 * @author rba on 15.10.2016.
 */
public class Main {
    public static void main(final String[] args) throws Exception {
        // create and configure beans
        ApplicationContext context =
            new ClassPathXmlApplicationContext("WEB-INF/applicationContext.xml");

        // retrieve configured instance
        StewardService stewardService =  context.getBean("stewardService", StewardService.class);

        Steward steward = new Steward();
        steward.setFirstName("Jano");
        steward.setLastName("Mrkva");
        stewardService.save(steward);

        Flight flight = new Flight();
        flight.setName("LetCislo42");

        Calendar arrival = Calendar.getInstance();
        arrival.set(2016, Calendar.DECEMBER, 20, 10, 22);

        Calendar departure = Calendar.getInstance();
        departure.set(2016, Calendar.DECEMBER, 20, 11, 22);

        flight.setArrival(arrival.getTime());
        flight.setDeparture(departure.getTime());
        flight.setPassagers(50);

        FlightService flightService = context.getBean("flightServiceImpl", FlightService.class);
        flightService.saveFlight(flight);


    }
}